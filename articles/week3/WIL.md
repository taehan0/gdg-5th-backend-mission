## ORM

### ORM을 사용하는 이유
- 자바는 객체 지향 언어, 데이터베이스는 관계형 모델이라 원래는 SQL을 직접 써서 연결해야 됐다. 이를 간단하게 하기 위해 등장

### ORM이 하는 일
- 매핑
- 클래스를 테이블로, 필드를 컬럼으로, 객체 인스턴스를 테이블의 레코드로 매핑한다.
- 즉, 객체와 테이블을 자동으로 연결해준다.

### ORM이 있으면 어떤 점이 편해지는가?
- SQL을 몰라도 기본 CRUD 가능
- 객체 중심 개발
- 유지보수 편리

### 대표적인 ORM 예시
- JPA
- Hibernate

## Persist Context

### 영속성 컨텍스트를 사용하는 이유
- JPA는 객체의 상태를 일정 시간동안 보관하고 관리해야 함. 이때의 보관함 역할이 필요

### 영속성 컨텍스트란?
- 엔티티를 저장하고, 변경을 추적하고, 필요할 떄 DB와 동기화하는 JPA내부 관리 공

### 영속성 컨텍스트가 하는 일
- 1차 캐시 기능
- 변경사항 감지
- 쓰기 지연
- 동일성 보장

### 추가정보
- Entity Manager: 영속성 컨텍스트를 생성하고 관리하는 관리자
- Persist(): 엔티티를 영속성 컨텍스트에 저장하는 명령
- Flush(): 영속성 컨텍스트에 쌓인 변경사을 DB에 실제로 반영하는 작업
- Dirty Checking: 변경 감지
- 비영속: 영속성 컨텍스트와 전혀 관계없는 상태
- 영속: 영속성 컨텍스트가 관리하는 상태
- 준영속: 영속성 컨텍스에서 분리된 상태

### 키워드 학습
- @Repository: 이 클래스는 데이터베이스 접근을 담당하는 컴포넌트라는 것을 스프링에게 명시
- @Transactional: 트랜젝션 시작/종료 자동 처리 (commit/flush/rollback 자동실행)
- @Entity: 데이터베이스 테이블과 매핑 설정